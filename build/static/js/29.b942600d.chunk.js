(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[29],{1072:function(t,e,n){"use strict";n.r(e);var a=n(18),c=n(733),r=n(1),i=n(740),o=(n(855),n(51)),s=(n(856),n(788)),u=n(861),d=n(1059),l=n(1051),f=n(87),b=n(194),j=n(898),O=n(193),m=(n(757),n(19));e.default=Object(O.b)()((function(t){var e=t.t,n=Object(f.c)((function(t){return t})).categories,O=Object(r.useState)({page:1,limit:10}),p=Object(c.a)(O,2),g=p[0],h=p[1],v=Object(r.useState)(),x=Object(c.a)(v,2),k=x[0],I=x[1],S=[{title:e("ID"),dataIndex:"key"},{title:e("Name"),dataIndex:"fullname",render:function(t){return Object(m.jsx)(m.Fragment,{children:t})}},{title:e("Email"),dataIndex:"email",render:function(t){return Object(m.jsx)(m.Fragment,{children:t})}},{title:e("Rank"),dataIndex:"rank",render:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;console.log(n,o.d.rank);var a=null===(t=o.d.rank.filter((function(t){return t.id==n}))[0])||void 0===t?void 0:t.color,c=null===(e=o.d.rank.filter((function(t){return t.id==n}))[0])||void 0===e?void 0:e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{color:a,children:c},c)})},filters:[{text:"Bronze",value:0},{text:"Silver",value:1},{text:"Gold",value:2},{text:"Diamond",value:3}],filterMode:"tree"},{title:e("Status"),dataIndex:"status",render:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=null===(t=o.d.users.filter((function(t){return t.id==n}))[0])||void 0===t?void 0:t.color,c=null===(e=o.d.users.filter((function(t){return t.id==n}))[0])||void 0===e?void 0:e.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.a,{color:a,children:c},c)})},sorter:function(t,e){return t.status-e.status},sortDirections:["ascend","descend","ascend"],defaultSortOrder:"ascend"},{title:e("Action"),dataIndex:"_id",render:function(t){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(u.b,{size:"middle",children:Object(m.jsx)(b.b,{to:"/customers/".concat(t),children:e("Detail")})})})}}];return Object(r.useEffect)((function(){Object(j.b)(g,{},(function(t){if(200==t.status){var n=1;t.data.data.forEach((function(t){t.key=n++})),I(t.data.data),h(Object(a.a)(Object(a.a)({},t.data.paginationInfo),{},{total:t.data.paginationInfo.total,pageSize:t.data.paginationInfo.limit}))}else d.a.error({message:e("Notification"),description:"".concat(t.message),placement:"bottomRight",duration:1.5})}))}),[n]),Object(m.jsx)(i.E,{children:Object(m.jsx)(i.j,{xs:"12",md:"12",className:"mb-4",children:Object(m.jsxs)(i.f,{children:[Object(m.jsx)(i.i,{children:e("List Customers")}),Object(m.jsx)(i.g,{children:Object(m.jsx)(l.a,{className:"overflow-auto",columns:S,dataSource:k,pagination:g,onChange:function(t,n,c){var r=t.pageSize*(t.current-1)+1;Object(j.b)(Object(a.a)(Object(a.a)({},t),{},{page:t.current}),n,(function(n){200==n.status||204==n.status?0==Object.keys(n).length?(I([]),h(Object(a.a)(Object(a.a)({},t),{},{total:0,pageSize:t.limit}))):(n.data.data.forEach((function(t){t.key=r++})),I(n.data.data),h(Object(a.a)(Object(a.a)({},n.data.paginationInfo),{},{total:n.data.paginationInfo.total,pageSize:n.data.paginationInfo.limit}))):d.a.error({message:e("Notification"),description:"".concat(n.message),placement:"bottomRight",duration:1.5})}))}})})]})})})}))},757:function(t,e,n){"use strict";var a=n(729),c=n(730),r=function(){function t(){Object(a.a)(this,t)}return Object(c.a)(t,[{key:"formatData",value:function(t){return Object.keys(t).forEach((function(e){isNaN(t[e])||(t[e]=parseFloat(t[e]))})),t}},{key:"formatVND",value:function(t){return t.toLocaleString("it-IT",{style:"currency",currency:"USD"})}}]),t}();e.a=new r},898:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));var a=n(18),c=n(51),r=n(741);function i(t,e,n){var o=Object(c.b)(),s="/customer?page=".concat(t.page||1,"&limit=").concat(t.limit||100);e&&(null===e||void 0===e?void 0:e.rank)&&(s+="&rank=",e.rank.forEach((function(t){s+="".concat(t,",")}))),o.get(s).then((function(t){n(Object(a.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(r.c)((function(){i(t,e,n)})):n(Object(a.a)(Object(a.a)({},c.response),{},{message:"Get list customers failed!"})))}))}function o(t,e){var n=Object(c.b)(),i="/customer/".concat(t);n.get(i).then((function(t){e(Object(a.a)({},t))})).catch((function(n){n.response&&(401==n.response.status||403==n.response.status?Object(r.c)((function(){o(t,e)})):e(Object(a.a)(Object(a.a)({},n.response),{},{message:"Get customer detail failed!"})))}))}function s(t,e,n){var i=Object(c.b)(),o="";o=e?"/customer/unblock/".concat(t):"/customer/block/".concat(t),i.patch(o).then((function(t){n(Object(a.a)({},t))})).catch((function(c){c.response&&(401==c.response.status||403==c.response.status?Object(r.c)((function(){s(t,e,n)})):n(Object(a.a)(Object(a.a)({},c.response),{},{message:"Get customer detail failed!"})))}))}}}]);
//# sourceMappingURL=29.b942600d.chunk.js.map